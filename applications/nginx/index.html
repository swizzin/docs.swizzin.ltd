<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-104631777-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="swizzin community edition" href="/opensearch.xml"><title data-react-helmet="true">Nginx | swizzin community edition</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://liaralabs.github.io/applications/nginx"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Nginx | swizzin community edition"><meta data-react-helmet="true" name="description" content="nginx is a high performance web and proxy server"><meta data-react-helmet="true" property="og:description" content="nginx is a high performance web and proxy server"><meta data-react-helmet="true" property="og:image" content="https://liaralabs.github.io/img/logo.png"><meta data-react-helmet="true" name="twitter:image" content="https://liaralabs.github.io/img/logo.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://liaralabs.github.io/applications/nginx"><link data-react-helmet="true" rel="alternate" href="https://liaralabs.github.io/applications/nginx" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://liaralabs.github.io/applications/nginx" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6a68138d.css">
<link rel="preload" href="/assets/js/runtime~main.318cd2e8.js" as="script">
<link rel="preload" href="/assets/js/main.4674b589.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">swizzin</b></a><a class="navbar__item navbar__link" href="/getting-started">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/applications">Applications</a><a class="navbar__item navbar__link" href="/dev/intro">Development</a><a class="navbar__item navbar__link" href="/getting-started/faqs">FAQs</a><a href="https://swizzin.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" alt="Managed seedboxes hosted by the swizzin developers"><span>Swizzin Hosted<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/liaralabs/swizzin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:2px">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">‚òÄÔ∏è</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Applications</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/">Applications Index</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Automation</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Backup &amp; Sync</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Indexers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">IRC</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Media Servers</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Torrent Clients &amp; GUIs</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">Usenet Clients</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">Utilities</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/duckdns">Duck DNS</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/ffmpeg">ffmpeg</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/filebrowser">Filebrowser</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/librespeed">Librespeed</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/letsencrypt">Letsencrypt</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/netdata">Netdata</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/applications/nginx">Nginx</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/organizr">Organizr</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/panel">Panel</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/pyload">Pyload</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/quota">Quota</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/rapidleech">Rapidleech</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/shellinabox">Shellinabox</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/webmin">Webmin</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/wireguard">Wireguard</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/x2go">X2go</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/applications/xmrig">xmrig</a></li></ul></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Guides</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Helper Scripts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Nginx</h1></header><p>nginx is a high performance web and proxy server</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="initial-setup"></a>Initial Setup<a class="hash-link" href="#initial-setup" title="Direct link to heading">#</a></h2><p>Installing nginx is easy. Simply issue the following command from SSH:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly plaintext"><pre tabindex="0" class="prism-code language-plaintext codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">sudo box install nginx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This command will install and configure nginx for your user. Generally we recommend installing this first, which is why it is at the top of the list of install choices during setup.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="swizzin-specific-nginx-info"></a>swizzin-specific nginx info<a class="hash-link" href="#swizzin-specific-nginx-info" title="Direct link to heading">#</a></h2><p>The default swizzin virtualhost resides at: <code>/etc/nginx/sites-enabled/default</code></p><p>The swizzin virtualhost by default will import and store application proxy/location information in the directory <code>/etc/nginx/apps</code>. You can place your custom configurations here if you want to add additional location blocks unmanged by swizzin. You can also place your configs in subdirectories of this directory. Try to avoid using names already in use by swizzin for your own apps.</p><p>swizzin also makes use of &quot;upstream&quot; configurations to handle proxying certain multi-user applications (i.e. Deluge, qBittorrent, etc). These upstreams may be found in <code>/etc/nginx/conf.d</code></p><p>Finally, if you ever make any mistakes or changes to nginx and it stops working, the command <code>box upgrade nginx</code> will wipe out your current configs and re-run all the nginx-related scripts for the applications you have currently installed. In essence, this will &quot;fix&quot; your broken nginx by resetting it to the state that swizzin expects it to be in. If you have made any modifications you wish to save, please back them up before running this command as it&#x27;s considered destructive.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="troubleshooting"></a>Troubleshooting<a class="hash-link" href="#troubleshooting" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="nginx-wont-start"></a>nginx won&#x27;t start<a class="hash-link" href="#nginx-wont-start" title="Direct link to heading">#</a></h3><p>The holy grail command for troubleshooting nginx failures is</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly"><pre tabindex="0" class="prism-code language-undefined codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">sudo nginx -t</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This command will scan your current configuration and run syntax and sanity checks against it. If for any reason it finds an error in your configs, <code>nginx -t</code> will tell you exactly where the issue is so you can rectify the error (perhaps it&#x27;s a duplicate line or some other config issue you should google for).</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="nginx-logs"></a>nginx logs<a class="hash-link" href="#nginx-logs" title="Direct link to heading">#</a></h3><p>nginx stores its logs in the <code>/var/log/nginx</code> directory. In this directory you&#x27;ll find both <code>error.log</code> and <code>access.log</code>. If you are troubleshooting gateway/proxy issues, then <code>error.log</code> will be your best bet. If for some reason you are trying to debug access controls then <code>access.log</code> stores a log of every hit to the nginx server.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="common-error-codes"></a>Common error codes<a class="hash-link" href="#common-error-codes" title="Direct link to heading">#</a></h3><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="502-gateway-error"></a>502 Gateway error<a class="hash-link" href="#502-gateway-error" title="Direct link to heading">#</a></h4><p>The application you are trying to reach is likely down (not running). Please ensure the application is in fact running. If it is running and the error persists, you likely have a port mismatch between where the application is bound to (application config) and where nginx expects this application to be at (application proxy config). If you rectify the port mismatch, and reload nginx/the application, the connection should be fixed.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="403-forbidden"></a>403 Forbidden<a class="hash-link" href="#403-forbidden" title="Direct link to heading">#</a></h4><p>If you have received this after installing swizzin and are attempting to access the panel, then you have not installed the panel. Install the panel with <code>box install panel</code>. If you are receiving this on another endpoint other than the top level of your domain, then your username/password is incorrect.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/liaralabs/docs.swizzin.ltd/edit/master/docs/applications/nginx.mdx" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/applications/netdata"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ Netdata</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/applications/organizr"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Organizr ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#initial-setup" class="table-of-contents__link">Initial Setup</a></li><li><a href="#swizzin-specific-nginx-info" class="table-of-contents__link">swizzin-specific nginx info</a></li><li><a href="#troubleshooting" class="table-of-contents__link">Troubleshooting</a><ul><li><a href="#nginx-wont-start" class="table-of-contents__link">nginx won&#39;t start</a></li><li><a href="#nginx-logs" class="table-of-contents__link">nginx logs</a></li><li><a href="#common-error-codes" class="table-of-contents__link">Common error codes</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">swizzin</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/getting-started/box-basics">Box Basics</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/liaralabs/swizzin" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/sKjs9UM" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://swizzin.ltd" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/logo-sm.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/logo-sm.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2021 swizzin. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.318cd2e8.js"></script>
<script src="/assets/js/main.4674b589.js"></script>
</body>
</html>