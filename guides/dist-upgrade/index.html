<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="preconnect" href="https://www.google-analytics.com">
<script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)},ga.l=+new Date,ga("create","UA-104631777-1","auto"),ga("send","pageview")</script>
<script async src="https://www.google-analytics.com/analytics.js"></script>
<link rel="search" type="application/opensearchdescription+xml" title="swizzin community edition" href="/opensearch.xml"><title data-react-helmet="true">Keeping your Server Up-to-Date | swizzin community edition</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://liaralabs.github.io/guides/dist-upgrade"><meta data-react-helmet="true" name="docsearch:language" content="en"><meta data-react-helmet="true" name="docsearch:version" content="current"><meta data-react-helmet="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-react-helmet="true" property="og:title" content="Keeping your Server Up-to-Date | swizzin community edition"><meta data-react-helmet="true" name="description" content="Keeping your server up-to-date is important as security fixes are constantly being discovered and released. There are two forms of updates: regular upgrades and distribution upgrades."><meta data-react-helmet="true" property="og:description" content="Keeping your server up-to-date is important as security fixes are constantly being discovered and released. There are two forms of updates: regular upgrades and distribution upgrades."><meta data-react-helmet="true" property="og:image" content="https://liaralabs.github.io/img/logo.png"><meta data-react-helmet="true" name="twitter:image" content="https://liaralabs.github.io/img/logo.png"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://liaralabs.github.io/guides/dist-upgrade"><link data-react-helmet="true" rel="alternate" href="https://liaralabs.github.io/guides/dist-upgrade" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://liaralabs.github.io/guides/dist-upgrade" hreflang="x-default"><link data-react-helmet="true" rel="preconnect" href="https://BH4D9OD16A-dsn.algolia.net" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.6a68138d.css">
<link rel="preload" href="/assets/js/runtime~main.9a8d58eb.js" as="script">
<link rel="preload" href="/assets/js/main.4674b589.js" as="script">
</head>
<body>
<script>!function(){function e(e){document.documentElement.setAttribute("data-theme",e)}var t=function(){var e=null;try{e=localStorage.getItem("theme")}catch(e){}return e}();null!==t?e(t):window.matchMedia("(prefers-color-scheme: dark)").matches?e("dark"):window.matchMedia("(prefers-color-scheme: light)").matches?e("light"):e("dark")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/logo.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/logo.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title">swizzin</b></a><a class="navbar__item navbar__link" href="/getting-started">Docs</a><a class="navbar__item navbar__link" href="/applications">Applications</a><a class="navbar__item navbar__link" href="/dev/intro">Development</a><a class="navbar__item navbar__link" href="/getting-started/faqs">FAQs</a><a href="https://swizzin.net" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link" alt="Managed seedboxes hosted by the swizzin developers"><span>Swizzin Hosted<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/liaralabs/swizzin" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link header-github-link" aria-label="GitHub Repository"></a><div class="react-toggle toggle_3Zt9 react-toggle--checked react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT" style="margin-left:2px">üåô</span></div><div class="react-toggle-track-x"><span class="toggle_71bT" style="margin-left:1px">‚òÄÔ∏è</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" checked="" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div><div class="searchBox_1Doo"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Getting Started</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Applications</a></li><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Guides</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/guides/dist-upgrade">Server Updates</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/troubleshooting">Troubleshooting</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/advanced-setup">Advanced Setup</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/migrating">Migrating</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/guides/customisations">3rd party customisations</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Helper Scripts</a></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#">Development</a></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><header><h1 class="h1Heading_27L5">Keeping your Server Up-to-Date</h1></header><p>Keeping your server up-to-date is important as security fixes are constantly being discovered and released. There are two forms of updates: regular upgrades and distribution upgrades.</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="regular-upgrades"></a>Regular Upgrades<a class="hash-link" href="#regular-upgrades" title="Direct link to heading">#</a></h2><p>Regular upgrades are the updates to packages released for the current version of your operating system (either Debian or Ubuntu). Since only LTS (Long Term Support) branches are supported in swizzin, security updates are typically the only updates you&#x27;ll receive; however, the kernel does update regularly, so it&#x27;s a good idea to check for updates every so often. Regular upgrades are safe and should pose no reliability issues when performing routine restarts.</p><p>Checking for updates is easy:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">apt</span><span class="token plain"> -y update</span></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">apt</span><span class="token plain"> upgrade</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>After running these commands, you&#x27;ll see if any packages are available for upgrade. If you are ready and confirm the upgrade of the packages listed, press <code>y</code> to continue. If you change your mind, press <code>n</code> or hit <code>control-c</code>.</p><p>Following updates, it&#x27;s typically a good idea to restart any services that were upgraded in order to start using the new versions immediately.</p><p>If there was an update to the <code>linux-image</code> package, this is the kernel. The only way to reload the kernel is to restart the server. (Unless you&#x27;re running Ubuntu 18.04 with live kernel updates, which is not covered here.)</p><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="distribution-upgrades"></a>Distribution Upgrades<a class="hash-link" href="#distribution-upgrades" title="Direct link to heading">#</a></h2><div class="admonition admonition-danger alert alert--danger"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M5.05.31c.81 2.17.41 3.38-.52 4.31C3.55 5.67 1.98 6.45.9 7.98c-1.45 2.05-1.7 6.53 3.53 7.7-2.2-1.16-2.67-4.52-.3-6.61-.61 2.03.53 3.33 1.94 2.86 1.39-.47 2.3.53 2.27 1.67-.02.78-.31 1.44-1.13 1.81 3.42-.59 4.78-3.42 4.78-5.56 0-2.84-2.53-3.22-1.25-5.61-1.52.13-2.03 1.13-1.89 2.75.09 1.08-1.02 1.8-1.86 1.33-.67-.41-.66-1.19-.06-1.78C8.18 5.31 8.68 2.45 5.05.32L5.03.3l.02.01z"></path></svg></span>DISCLAIMER AND LIMITATION OF LIABILITY</h5></div><div class="admonition-content"><p>The steps provided below are meant only to provide you with an outline of the steps required to make a major version change to your operating system (i.e. Debian 9 -&gt; 10). While the steps outlined below will absolutely upgrade your operating system, there are risks involved, for example (but not limited to):</p><ul><li>Package updates causing issues that prevent boot</li><li>Package updates causing previously installed packages in swizzin to fail to start</li></ul><p>Distribution upgrades are <strong><em>NOT</em></strong> officially supported. If anything breaks, I am not liable for your server or any of the data contained within it. Further, you are not guaranteed to receive any form of support or help to help get your server functional again. This information is provided for educational purposes only. If you choose to follow the steps, be prepared for the possibility that something could go wrong. If your data is important to you, make a backup.</p><p>Certain things are known to cause issues -- those issues will be gone over here and the workarounds to get the applications back online, but I cannot provide information for all circumstances and variables.</p><p>You have been warned.</p></div></div><p>That&#x27;s a large scary warning, yes. Please think twice about performing the following steps. That said, performing a distribution upgrade is only slightly more involved than a regular update. The biggest difference is that we need to change our <code>sources</code> file to reference the newer version of the OS we&#x27;d like to upgrade to.</p><p>The absolute best time to perform an upgrade is <strong>before you install swizzin</strong>; however, it&#x27;s still possible to do a distribution upgrade after installation, but it may be more tricky. The reason it&#x27;s easier is that nothing has been installed or configured yet. When everything gets installed for the first time, it&#x27;ll be installed correctly for the OS and won&#x27;t need to be (potentially tweaked).</p><p>swizzin currently supports these distributions:</p><p>Debian:</p><ul><li>Stretch (oldoldstable)</li><li>Buster (oldstable)</li><li>Bullseye (stable)</li></ul><p>Ubuntu:</p><ul><li>Bionic (18.04 LTS)</li><li>Focal (20.04 LTS)</li></ul><p>If you don&#x27;t know the OS or version you&#x27;re running, you can determine it here with the command <code>lsb_release -a</code>. Your <code>codename</code> will hopefully correspond to a value above. The codename is the release that&#x27;s in your current apt sources list (<code>/etc/apt/sources.list</code>). We will be changing this to the version you&#x27;d like to upgrade to.</p><p>Let&#x27;s take the scenario where your server was delivered with Debian 9 (stretch), but you&#x27;d like to upgrade to Debian 10 (buster). In this scenario, our upgrade path looks like this:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">stretch </span><span class="token operator" style="color:rgb(12, 150, 155)">&gt;</span><span class="token plain"> buster</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Thus, we need to replace all mention of stretch with buster in the file <code>/etc/apt/sources.list</code>.</p><p>You can either <code>sudo nano /etc/apt/sources.list</code> and change all instances of <code>stretch</code> to <code>buster</code> or issue the following command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sed</span><span class="token plain"> -i </span><span class="token string" style="color:rgb(72, 118, 214)">&#x27;s/buster/bullseye/g&#x27;</span><span class="token plain"> /etc/apt/sources.list</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This simple <code>sed</code> command simply states: find the word stretch, replace it with buster in the file `/etc/apt/sources.list.</p><p>Once our sources have been updated, it&#x27;s time to grab new manifests and update:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">apt</span><span class="token plain"> -y update</span></span><span class="token-line" style="color:#403f53"><span class="token plain"></span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">apt</span><span class="token plain"> upgrade</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>If you receive an error regarding any repositories without release files, please double check your sources. Certain repos (like Debian&#x27;s security updates) repository may not yet exist and will throw a hard error. This won&#x27;t prevent you from using <code>apt</code> by command line, but the hard error will cause any apt-based installs while using <code>box</code> to fail.</p><p>The update, once started, will take some time. Hundreds (if not 1000+) packages will be downloaded and updated. Please be patient: consider grabbing a coffee or a beer.</p><p>Once this command finishes, we need to complete the upgrade with a <code>dist upgrade</code>:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">apt</span><span class="token plain"> dist-upgrade</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>This should offer to upgrade more packages and will round out the full distribution upgrade process.</p><p>After this command finishes, we need to reboot the server to refresh everything that was just upgraded. Use the command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">reboot</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Pray to your lucky stars that nothing goes wrong and your server comes back up without any issues.</p><p>If you haven&#x27;t installed swizzin yet, feel free to start the installer now. If you have already installed packages, we have a bit more updating to do.</p><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="updating-packages-after-an-upgrade"></a>Updating packages after an upgrade<a class="hash-link" href="#updating-packages-after-an-upgrade" title="Direct link to heading">#</a></h3><p>A few things are known to be broken after a <code>dist-upgrade</code> and will need to be fixed. Major breakers typically include things like php version upgrades and library upgrades (like openSSL), which packages (such as rtorrent) are compiled against.</p><p>Luckily the major breakers have scripts in place designed to help get you back up and running.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="nginx"></a>nginx<a class="hash-link" href="#nginx" title="Direct link to heading">#</a></h4><p>We need to upgrade nginx configs to use the correct php socket for applications like the panel and ruTorrent. The easiest way to reconfigure nginx for your current environment is to use the command:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> box upgrade nginx</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><div class="admonition admonition-tip alert alert--success"><div class="admonition-heading"><h5><span class="admonition-icon"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="16" viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>Tip</h5></div><div class="admonition-content"><p>This command is considered semi-destructive. In the case of custom nginx configurations, it won&#x27;t clear the <code>nginx/app</code> directory, but it will clear the <code>nginx/conf.d</code> directory. If you have any custom nginx configurations, it&#x27;s recommended to back them up before running the above command</p></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="rtorrent"></a>rtorrent<a class="hash-link" href="#rtorrent" title="Direct link to heading">#</a></h4><p>rTorrent likely failed to start on boot. If you try to start <code>rtorrent</code> from the command line, you&#x27;ll likely receive some error about libraries. We just need to recompile rTorrent against the current system. This is simple:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> box upgrade rtorrent</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>rTorrent will recompile and should start without issues afterwards.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="deluge"></a>deluge<a class="hash-link" href="#deluge" title="Direct link to heading">#</a></h4><p>Deluge shouldn&#x27;t have any issues with the upgrade, but if Deluge fails to start, recompiling would be the first point of troubleshooting:</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">sudo</span><span class="token plain"> box upgrade deluge</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="python3-virtual-environments"></a>Python3 virtual environments<a class="hash-link" href="#python3-virtual-environments" title="Direct link to heading">#</a></h4><p>Applications which require the use of virtual environments will likely be broken following a dist-upgrade as the python3 symlinks to the system binaries and any venv specific dependencies will no longer be pointing to the correct location. Python venvs will need to be redeployed.</p><p>For example, to fix the panel after a dist-upgrade, the following steps should fix the python venv for the panel</p><div class="codeBlockContainer_K1bP"><div class="codeBlockContent_hGly bash"><pre tabindex="0" class="prism-code language-bash codeBlock_23N8 thin-scrollbar" style="color:#403f53;background-color:#FBFBFB"><code class="codeBlockLines_39YC"><span class="token-line" style="color:#403f53"><span class="token plain">python3 -m venv /opt/.venv/swizzin</span></span><span class="token-line" style="color:#403f53"><span class="token plain">/opt/.venv/swizzin/bin/pip </span><span class="token function" style="color:rgb(153, 76, 195);font-style:italic">install</span><span class="token plain"> -r /opt/swizzin/requirements.txt</span></span><span class="token-line" style="color:#403f53"><span class="token plain">systemctl restart panel</span></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_Ue-o clean-btn">Copy</button></div></div><p>Depending on the application and the amount of configuration you have done, it may be easier to simply back up your app configuration and reinstall the application entirely and restore your backup.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="other-packages"></a>Other packages<a class="hash-link" href="#other-packages" title="Direct link to heading">#</a></h4><p>Distribution upgrades haven&#x27;t been tested rigorously. It&#x27;s entirely possible other packages may have broken during the upgrade. You&#x27;ll need to start doing your own troubleshooting here if anything else is broken. You can consult <a href="/guides/troubleshooting">the Troubleshooting guide</a> for a quick start. You can find out if any of your systemd services are failing to start with <code>systemctl list-units --failed</code>. If there are failed units there, you can start debugging with <code>systemctl status &lt;failed unit&gt;</code>. However, you&#x27;re on your own form here.</p></div><footer class="row docusaurus-mt-lg"><div class="col"><a href="https://github.com/liaralabs/docs.swizzin.ltd/edit/master/docs/guides/dist-upgrade.md" target="_blank" rel="noreferrer noopener"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_2_ui" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_3DPF"></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/applications/xmrig"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">¬´ xmrig</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/guides/troubleshooting"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Troubleshooting ¬ª</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#regular-upgrades" class="table-of-contents__link">Regular Upgrades</a></li><li><a href="#distribution-upgrades" class="table-of-contents__link">Distribution Upgrades</a><ul><li><a href="#updating-packages-after-an-upgrade" class="table-of-contents__link">Updating packages after an upgrade</a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">swizzin</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/getting-started">Getting Started</a></li><li class="footer__item"><a class="footer__link-item" href="/getting-started/box-basics">Box Basics</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/liaralabs/swizzin" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://discord.gg/sKjs9UM" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="margin-bottom--sm"><a href="https://swizzin.ltd" target="_blank" rel="noopener noreferrer" class="footerLogoLink_MyFc"><img src="/img/logo-sm.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--light_3UqQ footer__logo"><img src="/img/logo-sm.png" alt="swizzin Logo" class="themedImage_1VuW themedImage--dark_hz6m footer__logo"></a></div><div class="footer__copyright">Copyright ¬© 2021 swizzin. All rights reserved.</div></div></div></footer></div>
<script src="/assets/js/runtime~main.9a8d58eb.js"></script>
<script src="/assets/js/main.4674b589.js"></script>
</body>
</html>